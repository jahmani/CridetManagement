<!--
  Generated template for the ImageCropperPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-toolbar color="dark">
    <ion-title i18n>Crop</ion-title>

    <ion-buttons start>
      <button  [disabled] ="editor.cropping " ion-button icon-only (click)="imageRotate()">
        <ion-icon name='refresh'></ion-icon>
      </button>

      <button [disabled] ="editor.cropping || editor.rotating" ion-button icon-only (click)="startCrop()">
        <ion-icon name='crop'></ion-icon>
      </button>
    </ion-buttons>   


    <ion-buttons padding-left padding-right end>
      <button  [disabled] ="!editor.cropping && !editor.rotating" ion-button icon-only (click)="cancel()">
        <ion-icon name='close'></ion-icon>
      </button>

        <button [disabled] ="!editor.cropping && !editor.rotating"  ion-button icon-only (click)="finish()">
          <ion-icon name='checkmark'></ion-icon>
        </button>
      </ion-buttons>


    <ion-buttons padding-left padding-right end>
      <button  [disabled] ="editor.cropping || editor.rotating"  ion-button icon-only (click)="selectImage()">
        <ion-icon name='attach'></ion-icon>
      </button>
    </ion-buttons>
      <ion-buttons padding-left padding-right end>
          <button   [disabled] ="editor.cropping || editor.rotating" ion-button icon-only (click)="upload()">
            <ion-icon name='cloud-upload'></ion-icon>
          </button>
        </ion-buttons>
        </ion-toolbar>

</ion-header>
<ion-content>

  <progress-bar *ngIf="uploadProgress|async as progress" [progress]="progress"></progress-bar>

  <input type="file" (change)="onImageSelected($event)" accept="image/*" id="file-input" #fileInput>

  <img [src]="imageB64Tagged" (load)="imageLoaded()" #imageSrc>
</ion-content>