<!-- Generated template for the PlListTableComponent component -->
<div *ngIf="flatPLLines" dir="ltr">
  <button ion-butto (click)="expnadAll()">expand</button>

  <ngx-datatable #myTable
  dir="rtl"
  [selected]="selected"
  (activate)="onActivate($event)"
  [selectionType]="'single'"
  [footerHeight]="100"
  (page)="expnadAll()"
  (select)="onSelect($event)" 
  [rowHeight]="'auto'"
  [rows]="flatPLLines" 
  [columnMode]="'force'" 
  [columns]="columns">
    <!-- Row Detail Template -->
    <ngx-datatable-row-detail [rowHeight]="'auto'" #myDetailRow (toggle)="onDetailToggle($event)">
      <ng-template let-row="row" let-expanded="expanded" ngx-datatable-row-detail-template>
          <ion-item no-padding no-lines (click)="onDetailClicked(row)" >
              <ion-thumbnail item-start>
                  <img [src]="row.Product.data.thumbUrl">
                </ion-thumbnail>
  
                <p>{{row.shippingMark}}</p>
                <span>{{row.Product.data.name}}</span>
                <ion-note *ngIf="row.Product.data.style">- {{row.Product.data.style}}</ion-note>
              <button *ngIf="activeRow?.id == row.id" (click)="onWantEdit(row.id)" ion-button icon-only item-end clear><ion-icon name="create"></ion-icon></button>

          </ion-item>

      </ng-template>
    </ngx-datatable-row-detail>
    <!-- Column Templates -->
    <ngx-datatable-footer>
        <ng-template 
          ngx-datatable-footer-template 
          let-rowCount="rowCount"
          let-pageSize="pageSize"
          let-selectedCount="selectedCount"
          let-curPage="curPage"
          let-offset="offset">
            <div *ngIf="totals">
              <strong>Totals</strong>: 
               Quantity: {{totals.qty}} |
              Cartons: {{totals.ctns}} |
              Ammount: {{totals.ammount}} |
            </div>
        </ng-template>
      </ngx-datatable-footer>

  </ngx-datatable>
</div>
<!--

<ng-template #rowDropDownTemplate let-row="row" ngx-datatable-cell-template>
  <a [class.datatable-icon-right]="!row.$$expanded" [class.datatable-icon-down]="row.$$expanded" title="Expand/Collapse Details"
     (click)="toggleExpandRow(row)">hi
  </a>
</ng-template>
-->
